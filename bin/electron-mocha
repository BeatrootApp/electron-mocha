#!/usr/bin/env node

var path = require('path')
var spawn = require('child_process').spawn
var which = require('which')

which('electron', function (err, resolvedPath) {
  if (!resolvedPath) return runElectron(process.env.ELECTRON_PATH)
  if (resolvedPath) return runElectron(resolvedPath)
  if (err) console.error(err)
})

function runElectron (resolvedPath) {
  var args = process.argv.slice(2)
  args.unshift(path.resolve(path.join(__dirname, '../index.js')))
  var electron = spawn(resolvedPath, args, { stdio: 'inherit' })
}
